<!doctype html><html lang=en><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=robots content="noodp"><title>A good example of Trace Parser, Visual Studio and Excel - Dynamics 365 Finance & Operations | nuxulu.com</title><meta name=Description content="Dynamics 365 Finance & Operations"><meta property="og:title" content="A good example of Trace Parser, Visual Studio and Excel"><meta property="og:description" content="Prerequisite Before analysing a trace file, you might need to create a database for trace data. When you do troubleshooting actions on any VMs lower than D365FO 10.X.X (i.e. AX2012, D365FO 7.X, D365FO 8.X), no database was pre-created for trace&rsquo;s data. You will need to register a new one. Please check here.
A good tip of using Excel to analyse INSERT INTO statement captured in a Trace file: Check here."><meta property="og:type" content="article"><meta property="og:url" content="https://nuxulu.com/2020-06-30-a-good-example-of-trace-parser-visual-studio-and-excel/"><meta property="og:image" content="https://nuxulu.com/Icon/mstile-150x150.png"><meta property="article:section" content="posts"><meta property="article:published_time" content="2020-06-30T00:00:00+00:00"><meta property="article:modified_time" content="2020-06-30T00:00:00+00:00"><meta property="og:site_name" content="Dynamics 365 Finance & Operations"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://nuxulu.com/Icon/mstile-150x150.png"><meta name=twitter:title content="A good example of Trace Parser, Visual Studio and Excel"><meta name=twitter:description content="Prerequisite Before analysing a trace file, you might need to create a database for trace data. When you do troubleshooting actions on any VMs lower than D365FO 10.X.X (i.e. AX2012, D365FO 7.X, D365FO 8.X), no database was pre-created for trace&rsquo;s data. You will need to register a new one. Please check here.
A good tip of using Excel to analyse INSERT INTO statement captured in a Trace file: Check here."><meta name=application-name content="Dynamics 365 Finance & Operations"><meta name=apple-mobile-web-app-title content="Dynamics 365 Finance & Operations"><meta name=theme-color content="#ffffff"><meta name=msapplication-TileColor content="#da532c"><link rel=icon href=/Icon/favicon.ico><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=mask-icon href=/safari-pinned-tab.svg color=#5bbad5><link rel=manifest href=/site.webmanifest><link rel=canonical href=https://nuxulu.com/2020-06-30-a-good-example-of-trace-parser-visual-studio-and-excel/><link rel=prev href=https://nuxulu.com/2020-06-30-a-good-tip-of-using-excel-to-analyse-insert-into-statement-captured-in-a-trace-file/><link rel=next href=https://nuxulu.com/2020-07-07-platform-vs-framework/><link rel=stylesheet href=/css/style.min.css><link rel=preload href=https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.1.1/css/all.min.css as=style onload='this.onload=null,this.rel="stylesheet"'><noscript><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.1.1/css/all.min.css></noscript><link rel=preload href=https://cdn.jsdelivr.net/npm/animate.css@4.1.1/animate.min.css as=style onload='this.onload=null,this.rel="stylesheet"'><noscript><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/animate.css@4.1.1/animate.min.css></noscript><meta name=google-site-verification content="f08c47fec0942fa0"><script type=application/ld+json>{"@context":"http://schema.org","@type":"BlogPosting","headline":"A good example of Trace Parser, Visual Studio and Excel","inLanguage":"en","mainEntityOfPage":{"@type":"WebPage","@id":"https:\/\/nuxulu.com\/2020-06-30-a-good-example-of-trace-parser-visual-studio-and-excel\/"},"image":[{"@type":"ImageObject","url":"https:\/\/nuxulu.com\/images\/Apple-Devices-Preview.png","width":3200,"height":2048}],"genre":"posts","keywords":"Visual Studio 2017, Trace parser","wordcount":1052,"url":"https:\/\/nuxulu.com\/2020-06-30-a-good-example-of-trace-parser-visual-studio-and-excel\/","datePublished":"2020-06-30T00:00:00+00:00","dateModified":"2020-06-30T00:00:00+00:00","publisher":{"@type":"Organization","name":"xxxx","logo":{"@type":"ImageObject","url":"https:\/\/nuxulu.com\/images\/avatar.png","width":528,"height":560}},"author":{"@type":"Person","name":"Kome Hoang"},"description":""}</script></head><body data-header-desktop=fixed data-header-mobile=auto><script type=text/javascript>(window.localStorage&&localStorage.getItem("theme")?localStorage.getItem("theme")==="dark":"auto"==="auto"?window.matchMedia("(prefers-color-scheme: dark)").matches:"auto"==="dark")&&document.body.setAttribute("theme","dark")</script><div id=mask></div><div class=wrapper><header class=desktop id=header-desktop><div class=header-wrapper><div class=header-title><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3534873375492458" crossorigin=anonymous></script>
<a href=/ title="Dynamics 365 Finance & Operations | nuxulu.com"><img class="lazyload logo" src=/svg/loading.min.svg data-src=/Icon/favicon-32x32.png data-srcset="/Icon/favicon-32x32.png, /Icon/favicon-32x32.png 1.5x, /Icon/favicon-32x32.png 2x" data-sizes=auto alt=/Icon/favicon-32x32.png title=/Icon/favicon-32x32.png><span class=header-title-pre> </span>Dynamics 365 Finance & Operations</a></div><div class=menu><div class=menu-inner><a class=menu-item href=/posts/>Posts </a><a class=menu-item href=/tags/>Tags </a><a class=menu-item href=/categories/>Categories </a><a class=menu-item href=/finopsnews/>D365 Feed </a><a class=menu-item href=/erd/default.htm>AX ERD </a><a class=menu-item href=/posts/index.xml>RSS </a><a class=menu-item href=/lab/>Labs </a><a class=menu-item href=/about/>About me </a><span class="menu-item delimiter"></span><span class="menu-item search" id=search-desktop>
<input type=text placeholder="Search titles or contents..." id=search-input-desktop>
<a href=javascript:void(0); class="search-button search-toggle" id=search-toggle-desktop title=Search><i class="fas fa-search fa-fw" aria-hidden=true></i></a>
<a href=javascript:void(0); class="search-button search-clear" id=search-clear-desktop title=Clear><i class="fas fa-times-circle fa-fw" aria-hidden=true></i></a>
<span class="search-button search-loading" id=search-loading-desktop><i class="fas fa-spinner fa-fw fa-spin" aria-hidden=true></i></span>
</span><a href=javascript:void(0); class="menu-item theme-switch" title="Switch Theme"><i class="fas fa-adjust fa-fw" aria-hidden=true></i></a></div></div></div></header><header class=mobile id=header-mobile><div class=header-container><div class=header-wrapper><div class=header-title><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3534873375492458" crossorigin=anonymous></script>
<a href=/ title="Dynamics 365 Finance & Operations | nuxulu.com"><img class="lazyload logo" src=/svg/loading.min.svg data-src=/Icon/favicon-32x32.png data-srcset="/Icon/favicon-32x32.png, /Icon/favicon-32x32.png 1.5x, /Icon/favicon-32x32.png 2x" data-sizes=auto alt=/Icon/favicon-32x32.png title=/Icon/favicon-32x32.png><span class=header-title-pre> </span>Dynamics 365 Finance & Operations</a></div><div class=menu-toggle id=menu-toggle-mobile><span></span><span></span><span></span></div></div><div class=menu id=menu-mobile><div class=search-wrapper><div class="search mobile" id=search-mobile><input type=text placeholder="Search titles or contents..." id=search-input-mobile>
<a href=javascript:void(0); class="search-button search-toggle" id=search-toggle-mobile title=Search><i class="fas fa-search fa-fw" aria-hidden=true></i></a>
<a href=javascript:void(0); class="search-button search-clear" id=search-clear-mobile title=Clear><i class="fas fa-times-circle fa-fw" aria-hidden=true></i></a>
<span class="search-button search-loading" id=search-loading-mobile><i class="fas fa-spinner fa-fw fa-spin" aria-hidden=true></i></span></div><a href=javascript:void(0); class=search-cancel id=search-cancel-mobile>Cancel</a></div><a class=menu-item href=/posts/ title>Posts</a><a class=menu-item href=/tags/ title>Tags</a><a class=menu-item href=/categories/ title>Categories</a><a class=menu-item href=/finopsnews/ title>D365 Feed</a><a class=menu-item href=/erd/default.htm title>AX ERD</a><a class=menu-item href=/posts/index.xml title>RSS</a><a class=menu-item href=/lab/ title>Labs</a><a class=menu-item href=/about/ title>About me</a><a href=javascript:void(0); class="menu-item theme-switch" title="Switch Theme">
<i class="fas fa-adjust fa-fw" aria-hidden=true></i></a></div></div></header><div class="search-dropdown desktop"><div id=search-dropdown-desktop></div></div><div class="search-dropdown mobile"><div id=search-dropdown-mobile></div></div><main class=main><div class=container><div class=toc id=toc-auto><h2 class=toc-title>Contents</h2><div class="toc-content always-active" id=toc-content-auto></div></div><article class="page single"><h1 class="single-title animate__animated animate__flipInX">A good example of Trace Parser, Visual Studio and Excel</h1><div class=post-meta><div class=post-meta-line><span class=post-author><a href=/about/ title=Author rel=author class=author><i class="fas fa-user-circle fa-fw" aria-hidden=true></i>Kome Hoang</a></span>&nbsp;<span class=post-category>included in <a href=/categories/finops/><i class="far fa-folder fa-fw" aria-hidden=true></i>FinOps</a>&nbsp;<a href=/categories/troubleshooting/><i class="far fa-folder fa-fw" aria-hidden=true></i>Troubleshooting</a></span></div><div class=post-meta-line><i class="far fa-calendar-alt fa-fw" aria-hidden=true></i>&nbsp;<time datetime="June 30, 2020">June 30, 2020</time>&nbsp;<i class="fas fa-pencil-alt fa-fw" aria-hidden=true></i>&nbsp;1052 words&nbsp;
<i class="far fa-clock fa-fw" aria-hidden=true></i>&nbsp;5 minutes&nbsp;</div></div><div class="details toc" id=toc-static data-kept><div class="details-summary toc-title"><span>Contents</span>
<span><i class="details-icon fas fa-angle-right" aria-hidden=true></i></span></div><div class="details-content toc-content" id=toc-content-static><nav id=TableOfContents><ul><li><a href=#prerequisite><strong>Prerequisite</strong></a></li><li><a href=#the-beautiful-example><strong>The beautiful example</strong></a><ul><li><a href=#the-given-case><strong>The given case</strong></a><ul><li><a href=#issue-description><em>Issue description</em></a></li><li><a href=#self-issue-scoping><em>Self issue-scoping</em></a></li></ul></li><li><a href=#troubleshooting><strong>Troubleshooting</strong></a><ul><li><a href=#visual-studio-checking-indexes><em>Visual Studio: Checking indexes</em></a></li><li><a href=#trace-parser-analysing-the-trace-file><em>Trace parser: Analysing the trace file</em></a></li><li><a href=#ssms-finding-the-duplicated-values><em>SSMS: Finding the duplicated values</em></a></li><li><a href=#d360fo-client--number-sequence><em>D360FO client > Number Sequence</em></a></li></ul></li></ul></li></ul></nav></div></div><div class=content id=content><h2 id=prerequisite><strong>Prerequisite</strong></h2><p>Before analysing a trace file, you might need to create a database for trace data. When you do troubleshooting actions on any VMs lower than D365FO 10.X.X (i.e. AX2012, D365FO 7.X, D365FO 8.X), no database was pre-created for trace&rsquo;s data. You will need to register a new one. Please <a href=/2020-06-30-create-a-new-database-for-trace-parser/ rel>check here</a>.</p><p>A good tip of using Excel to analyse INSERT INTO statement captured in a Trace file: <a href=/2020-06-30-a-good-tip-of-using-excel-to-analyse-insert-into-statement-captured-in-a-trace-file/ rel>Check here</a>.</p><p>Now we are good to get ourselves into this beautiful example.</p><h2 id=the-beautiful-example><strong>The beautiful example</strong></h2><h3 id=the-given-case><strong>The given case</strong></h3><p>I had a case which was solved by analysing a trace file. That case gave me a huge happiness so I would like to share with you all. This case required some skills of analysing the trace file, understanding the logic of D365 indexes, navigating through Visual Studio, using SSMS queries to find the things we need. So, I believe this is a very nice example yet simple enough for everyone to start learning how to use such tools, especially Trace Parser.</p><h4 id=issue-description><em>Issue description</em></h4><p>When I tried to authorise some Adjusted <strong>Demand Forecast</strong> records, I failed. System threw one error saying <code>The record already exists</code>.</p><p><figure><a class=lightgallery href=/2020-06-30-a-good-example-of-trace-parser-visual-studio-and-excel/Pic1-1.png title=Issue data-thumbnail=/2020-06-30-a-good-example-of-trace-parser-visual-studio-and-excel/Pic1-1.png data-sub-html="<h2>Issue</h2><p>Issue</p>"><img class=lazyload src=/svg/loading.min.svg data-src=/2020-06-30-a-good-example-of-trace-parser-visual-studio-and-excel/Pic1-1.png data-srcset="/2020-06-30-a-good-example-of-trace-parser-visual-studio-and-excel/Pic1-1.png, /2020-06-30-a-good-example-of-trace-parser-visual-studio-and-excel/Pic1-1.png 1.5x, /2020-06-30-a-good-example-of-trace-parser-visual-studio-and-excel/Pic1-1.png 2x" data-sizes=auto alt=/2020-06-30-a-good-example-of-trace-parser-visual-studio-and-excel/Pic1-1.png width=548 height=303></a><figcaption class=image-caption>Issue</figcaption></figure></p><figure><img src=Pic1-1.png width=500 height=600><figcaption><h4>Issue</h4></figcaption></figure><h4 id=self-issue-scoping><em>Self issue-scoping</em></h4><p>The error message was pretty straightforward. It can be understood as: Cannot create a record in table <strong>Demand Forecast</strong> (with its name in <code>[AxDB].[ForecastSales]</code>) because the record already exists in such table.</p><blockquote><p><em><strong>Note</strong></em></p><p>In fact, different records in D365FO can be distinguished by some different key values of them. Such key values are unique for each record. So, for example, 2 records might have exactly similar details of <code>Sales Order</code> or <code>Sales Quantity</code> but they can be deemed different if they have different <code>RecID</code> values.</p></blockquote><p>In this case, due to some reasons, the system was trying to insert a new record into ForecastSales table with some values which are already existing in such table. And, thus, failed.</p><p>We need to find what is/are that duplicated value(s) and try to fix it (them).</p><h3 id=troubleshooting><strong>Troubleshooting</strong></h3><h4 id=visual-studio-checking-indexes><em>Visual Studio: Checking indexes</em></h4><p>First and foremost, for any <em><strong>&ldquo;Record has been existed&rdquo;</strong></em> issues, the very first thing that we would need to check is the indices of the tables because the indices are the ones which decide the duplication rule (Allowed or Not allowed).</p><p>I would need to find which values in <code>ForecastSales</code> table do not allow duplicated values. This can be done by check <code>ForecastSales.Indexes</code> using <code>Visual Studio</code>.</p><p>Open <code>Visual Studio</code> and look for <code>forecastsales</code> table in the AOT.</p><p><figure><a class=lightgallery href=/2020-06-30-a-good-example-of-trace-parser-visual-studio-and-excel/Pic1-2.png title="Find the table" data-thumbnail=/2020-06-30-a-good-example-of-trace-parser-visual-studio-and-excel/Pic1-2.png data-sub-html="<h2>Find the table</h2><p>Find the table</p>"><img class=lazyload src=/svg/loading.min.svg data-src=/2020-06-30-a-good-example-of-trace-parser-visual-studio-and-excel/Pic1-2.png data-srcset="/2020-06-30-a-good-example-of-trace-parser-visual-studio-and-excel/Pic1-2.png, /2020-06-30-a-good-example-of-trace-parser-visual-studio-and-excel/Pic1-2.png 1.5x, /2020-06-30-a-good-example-of-trace-parser-visual-studio-and-excel/Pic1-2.png 2x" data-sizes=auto alt=/2020-06-30-a-good-example-of-trace-parser-visual-studio-and-excel/Pic1-2.png width=504 height=567></a><figcaption class=image-caption>Find the table</figcaption></figure></p><p>Right-click on it > <code>Open Designer</code> to open Table designer. Expand <code>Indexes</code> (this is somewhat bugging me for a long time because the plural form of <em>Index</em> should be <em>Indices</em> rather than <em>Indexes</em>, yet never mind).</p><p><figure><a class=lightgallery href=/2020-06-30-a-good-example-of-trace-parser-visual-studio-and-excel/Pic1-3.png title="The Index" data-thumbnail=/2020-06-30-a-good-example-of-trace-parser-visual-studio-and-excel/Pic1-3.png data-sub-html="<h2>The Index</h2><p>The Index</p>"><img class=lazyload src=/svg/loading.min.svg data-src=/2020-06-30-a-good-example-of-trace-parser-visual-studio-and-excel/Pic1-3.png data-srcset="/2020-06-30-a-good-example-of-trace-parser-visual-studio-and-excel/Pic1-3.png, /2020-06-30-a-good-example-of-trace-parser-visual-studio-and-excel/Pic1-3.png 1.5x, /2020-06-30-a-good-example-of-trace-parser-visual-studio-and-excel/Pic1-3.png 2x" data-sizes=auto alt=/2020-06-30-a-good-example-of-trace-parser-visual-studio-and-excel/Pic1-3.png width=820 height=501></a><figcaption class=image-caption>The Index</figcaption></figure></p><p>Choose <code>View</code> (on Menu bar) > <code>Properties Window</code> to open Properties window. Or, we can simply press <code>F4</code>.</p><p><figure><a class=lightgallery href=/2020-06-30-a-good-example-of-trace-parser-visual-studio-and-excel/Pic1-4.png title=Properties data-thumbnail=/2020-06-30-a-good-example-of-trace-parser-visual-studio-and-excel/Pic1-4.png data-sub-html="<h2>Properties</h2><p>Properties</p>"><img class=lazyload src=/svg/loading.min.svg data-src=/2020-06-30-a-good-example-of-trace-parser-visual-studio-and-excel/Pic1-4.png data-srcset="/2020-06-30-a-good-example-of-trace-parser-visual-studio-and-excel/Pic1-4.png, /2020-06-30-a-good-example-of-trace-parser-visual-studio-and-excel/Pic1-4.png 1.5x, /2020-06-30-a-good-example-of-trace-parser-visual-studio-and-excel/Pic1-4.png 2x" data-sizes=auto alt=/2020-06-30-a-good-example-of-trace-parser-visual-studio-and-excel/Pic1-4.png width=335 height=640></a><figcaption class=image-caption>Properties</figcaption></figure></p><p>Check all indexes to see if any indexes <em><strong>DO NOT</strong></em> allow duplicate. Those should be the indexes that we should tackle.</p><p><figure><a class=lightgallery href=/2020-06-30-a-good-example-of-trace-parser-visual-studio-and-excel/Pic1-5.png title="Properties of Indices" data-thumbnail=/2020-06-30-a-good-example-of-trace-parser-visual-studio-and-excel/Pic1-5.png data-sub-html="<h2>Properties of Indices</h2><p>Properties of Indices</p>"><img class=lazyload src=/svg/loading.min.svg data-src=/2020-06-30-a-good-example-of-trace-parser-visual-studio-and-excel/Pic1-5.png data-srcset="/2020-06-30-a-good-example-of-trace-parser-visual-studio-and-excel/Pic1-5.png, /2020-06-30-a-good-example-of-trace-parser-visual-studio-and-excel/Pic1-5.png 1.5x, /2020-06-30-a-good-example-of-trace-parser-visual-studio-and-excel/Pic1-5.png 2x" data-sizes=auto alt=/2020-06-30-a-good-example-of-trace-parser-visual-studio-and-excel/Pic1-5.png width=1456 height=379></a><figcaption class=image-caption>Properties of Indices</figcaption></figure></p><p>After analysing, I found that two indexes which do not allow duplicate. They were <code>ExpandIdx</code> and <code>ForecastEntryNumberIdx</code>. Expand those indexes to find which fields are included. They were (1) the combination of <code>ExpandID</code> and <code>RecID</code> and (2) <code>ForecastEntryNumber</code>.</p><p><figure><a class=lightgallery href=/2020-06-30-a-good-example-of-trace-parser-visual-studio-and-excel/Pic1-6.png title="Found the ones" data-thumbnail=/2020-06-30-a-good-example-of-trace-parser-visual-studio-and-excel/Pic1-6.png data-sub-html="<h2>Found the ones</h2><p>Found the ones</p>"><img class=lazyload src=/svg/loading.min.svg data-src=/2020-06-30-a-good-example-of-trace-parser-visual-studio-and-excel/Pic1-6.png data-srcset="/2020-06-30-a-good-example-of-trace-parser-visual-studio-and-excel/Pic1-6.png, /2020-06-30-a-good-example-of-trace-parser-visual-studio-and-excel/Pic1-6.png 1.5x, /2020-06-30-a-good-example-of-trace-parser-visual-studio-and-excel/Pic1-6.png 2x" data-sizes=auto alt=/2020-06-30-a-good-example-of-trace-parser-visual-studio-and-excel/Pic1-6.png width=275 height=222></a><figcaption class=image-caption>Found the ones</figcaption></figure></p><p>We would need to take note these fields.</p><h4 id=trace-parser-analysing-the-trace-file><em>Trace parser: Analysing the trace file</em></h4><p>Before analysing any trace files, we would need to have the ID of the session in which we captured the file.</p><p>Go to <code>Question mark</code> on the upper-right corner of your browser > <code>Feedback</code> > Find the session ID.</p><p><figure><a class=lightgallery href=/2020-06-30-a-good-example-of-trace-parser-visual-studio-and-excel/Pic1-7.png title="Session ID" data-thumbnail=/2020-06-30-a-good-example-of-trace-parser-visual-studio-and-excel/Pic1-7.png data-sub-html="<h2>Session ID</h2><p>Session ID</p>"><img class=lazyload src=/svg/loading.min.svg data-src=/2020-06-30-a-good-example-of-trace-parser-visual-studio-and-excel/Pic1-7.png data-srcset="/2020-06-30-a-good-example-of-trace-parser-visual-studio-and-excel/Pic1-7.png, /2020-06-30-a-good-example-of-trace-parser-visual-studio-and-excel/Pic1-7.png 1.5x, /2020-06-30-a-good-example-of-trace-parser-visual-studio-and-excel/Pic1-7.png 2x" data-sizes=auto alt=/2020-06-30-a-good-example-of-trace-parser-visual-studio-and-excel/Pic1-7.png width=276 height=223></a><figcaption class=image-caption>Session ID</figcaption></figure></p><p>Open <code>Trace Parser</code> from Start menu and <code>Import</code> the trace file that we captured.</p><p><figure><a class=lightgallery href=/2020-06-30-a-good-example-of-trace-parser-visual-studio-and-excel/Pic1-8.png title="Import trace file" data-thumbnail=/2020-06-30-a-good-example-of-trace-parser-visual-studio-and-excel/Pic1-8.png data-sub-html="<h2>Import trace file</h2><p>Import trace file</p>"><img class=lazyload src=/svg/loading.min.svg data-src=/2020-06-30-a-good-example-of-trace-parser-visual-studio-and-excel/Pic1-8.png data-srcset="/2020-06-30-a-good-example-of-trace-parser-visual-studio-and-excel/Pic1-8.png, /2020-06-30-a-good-example-of-trace-parser-visual-studio-and-excel/Pic1-8.png 1.5x, /2020-06-30-a-good-example-of-trace-parser-visual-studio-and-excel/Pic1-8.png 2x" data-sizes=auto alt=/2020-06-30-a-good-example-of-trace-parser-visual-studio-and-excel/Pic1-8.png width=715 height=441></a><figcaption class=image-caption>Import trace file</figcaption></figure></p><p>Select grouping with same <code>Session</code> that we just took note.</p><p><figure><a class=lightgallery href=/2020-06-30-a-good-example-of-trace-parser-visual-studio-and-excel/Pic1-9.png title="Import trace file" data-thumbnail=/2020-06-30-a-good-example-of-trace-parser-visual-studio-and-excel/Pic1-9.png data-sub-html="<h2>Import trace file</h2><p>Import trace file</p>"><img class=lazyload src=/svg/loading.min.svg data-src=/2020-06-30-a-good-example-of-trace-parser-visual-studio-and-excel/Pic1-9.png data-srcset="/2020-06-30-a-good-example-of-trace-parser-visual-studio-and-excel/Pic1-9.png, /2020-06-30-a-good-example-of-trace-parser-visual-studio-and-excel/Pic1-9.png 1.5x, /2020-06-30-a-good-example-of-trace-parser-visual-studio-and-excel/Pic1-9.png 2x" data-sizes=auto alt=/2020-06-30-a-good-example-of-trace-parser-visual-studio-and-excel/Pic1-9.png width=1040 height=245></a><figcaption class=image-caption>Import trace file</figcaption></figure></p><p>Usually, we will need to analyse Call Tree, X++ and SQL included in the trace file to understand the issue&rsquo;s cause. The approach much depends on the issue. In my case, I would look into SQL queries because I assumed that an <code>INSERT INTO</code> statement was made to the table <code>ForecastSales</code>.</p><p>Switch to SQL tab and search for <em>&ldquo;forecastsales&rdquo;</em> (pay attention to the asterisks). This means we want to search for any queries containing <code>"forecastsales"</code> no matter where the keyword is in the queries.</p><p><figure><a class=lightgallery href=/2020-06-30-a-good-example-of-trace-parser-visual-studio-and-excel/Pic1-10.png title="The statement" data-thumbnail=/2020-06-30-a-good-example-of-trace-parser-visual-studio-and-excel/Pic1-10.png data-sub-html="<h2>statement</h2><p>The statement</p>"><img class=lazyload src=/svg/loading.min.svg data-src=/2020-06-30-a-good-example-of-trace-parser-visual-studio-and-excel/Pic1-10.png data-srcset="/2020-06-30-a-good-example-of-trace-parser-visual-studio-and-excel/Pic1-10.png, /2020-06-30-a-good-example-of-trace-parser-visual-studio-and-excel/Pic1-10.png 1.5x, /2020-06-30-a-good-example-of-trace-parser-visual-studio-and-excel/Pic1-10.png 2x" data-sizes=auto alt=/2020-06-30-a-good-example-of-trace-parser-visual-studio-and-excel/Pic1-10.png width=534 height=254></a><figcaption class=image-caption>statement</figcaption></figure></p><p>Luckily, I found one.</p><p><figure><a class=lightgallery href=/2020-06-30-a-good-example-of-trace-parser-visual-studio-and-excel/Pic1-11.png title="The problematic one" data-thumbnail=/2020-06-30-a-good-example-of-trace-parser-visual-studio-and-excel/Pic1-11.png data-sub-html="<h2>The problematic one</h2><p>The problematic one</p>"><img class=lazyload src=/svg/loading.min.svg data-src=/2020-06-30-a-good-example-of-trace-parser-visual-studio-and-excel/Pic1-11.png data-srcset="/2020-06-30-a-good-example-of-trace-parser-visual-studio-and-excel/Pic1-11.png, /2020-06-30-a-good-example-of-trace-parser-visual-studio-and-excel/Pic1-11.png 1.5x, /2020-06-30-a-good-example-of-trace-parser-visual-studio-and-excel/Pic1-11.png 2x" data-sizes=auto alt=/2020-06-30-a-good-example-of-trace-parser-visual-studio-and-excel/Pic1-11.png width=1352 height=742></a><figcaption class=image-caption>The problematic one</figcaption></figure></p><p>By analysing the INSERT INTO statement using Excel, I found the values that system tried inserting into <code>ForecastSales</code> table:</p><ul><li><code>ExpandID</code> = &lsquo;0&rsquo;</li><li><code>RecID</code> = &lsquo;5637233827&rsquo;</li><li><code>ForecastEntryNumber</code> = &lsquo;PAU-000063760&rsquo;</li></ul><p>We would need to memorise these values or write them down somewhere.</p><h4 id=ssms-finding-the-duplicated-values><em>SSMS: Finding the duplicated values</em></h4><p>Open <code>Microsoft SQL Server Management Studio</code> from Start menu and log in with default Windows Authentication.</p><p><figure><a class=lightgallery href=/2020-06-30-a-good-example-of-trace-parser-visual-studio-and-excel/Pic1-12.png title=SSMS data-thumbnail=/2020-06-30-a-good-example-of-trace-parser-visual-studio-and-excel/Pic1-12.png data-sub-html="<h2>SSMS</h2><p>SSMS</p>"><img class=lazyload src=/svg/loading.min.svg data-src=/2020-06-30-a-good-example-of-trace-parser-visual-studio-and-excel/Pic1-12.png data-srcset="/2020-06-30-a-good-example-of-trace-parser-visual-studio-and-excel/Pic1-12.png, /2020-06-30-a-good-example-of-trace-parser-visual-studio-and-excel/Pic1-12.png 1.5x, /2020-06-30-a-good-example-of-trace-parser-visual-studio-and-excel/Pic1-12.png 2x" data-sizes=auto alt=/2020-06-30-a-good-example-of-trace-parser-visual-studio-and-excel/Pic1-12.png width=501 height=342></a><figcaption class=image-caption>SSMS</figcaption></figure></p><p>Open a <code>New Query</code> window by choosing <code>Databases</code> > <code>AxDB</code> > <code>New Query</code>.</p><p><figure><a class=lightgallery href=/2020-06-30-a-good-example-of-trace-parser-visual-studio-and-excel/Pic1-13.png title="New query" data-thumbnail=/2020-06-30-a-good-example-of-trace-parser-visual-studio-and-excel/Pic1-13.png data-sub-html="<h2>New query</h2><p>New query</p>"><img class=lazyload src=/svg/loading.min.svg data-src=/2020-06-30-a-good-example-of-trace-parser-visual-studio-and-excel/Pic1-13.png data-srcset="/2020-06-30-a-good-example-of-trace-parser-visual-studio-and-excel/Pic1-13.png, /2020-06-30-a-good-example-of-trace-parser-visual-studio-and-excel/Pic1-13.png 1.5x, /2020-06-30-a-good-example-of-trace-parser-visual-studio-and-excel/Pic1-13.png 2x" data-sizes=auto alt=/2020-06-30-a-good-example-of-trace-parser-visual-studio-and-excel/Pic1-13.png width=852 height=314></a><figcaption class=image-caption>New query</figcaption></figure></p><p>I would execute 3 different queries because I wanted to look for duplicated values in 3 fields:</p><ul><li>ExpandID = &lsquo;0&rsquo;</li><li>RecID = &lsquo;5637233827&rsquo;</li><li>ForecastEntryNumber = &lsquo;PAU-000063760&rsquo;</li></ul><p>Type queries in the window > Press <code>F5</code> or <code>Alt+X</code> or <code>Execute</code> button to execute the queries.</p><p><figure><a class=lightgallery href=/2020-06-30-a-good-example-of-trace-parser-visual-studio-and-excel/Pic1-14.png title="Query result" data-thumbnail=/2020-06-30-a-good-example-of-trace-parser-visual-studio-and-excel/Pic1-14.png data-sub-html="<h2>Query result</h2><p>Query result</p>"><img class=lazyload src=/svg/loading.min.svg data-src=/2020-06-30-a-good-example-of-trace-parser-visual-studio-and-excel/Pic1-14.png data-srcset="/2020-06-30-a-good-example-of-trace-parser-visual-studio-and-excel/Pic1-14.png, /2020-06-30-a-good-example-of-trace-parser-visual-studio-and-excel/Pic1-14.png 1.5x, /2020-06-30-a-good-example-of-trace-parser-visual-studio-and-excel/Pic1-14.png 2x" data-sizes=auto alt=/2020-06-30-a-good-example-of-trace-parser-visual-studio-and-excel/Pic1-14.png width=1287 height=907></a><figcaption class=image-caption>Query result</figcaption></figure></p><p>Examination:</p><ul><li><code>ExpandID</code>: Hmm, quite a lot of records having a same value of &lsquo;0&rsquo;, but when involving all these &lsquo;0&rsquo; with the unique <code>RecID</code>, the combination should be different (we can actually double check this one using the query <code>select RECID, count(RECID) as Number from FORECASTSALES group by RECID order by Number desc</code>, any Number >= 2 are the duplicated ones)</li><li><code>RecID</code>: No records were found &ndash;> This means there should be no problem when inserting a new record with RecID = &lsquo;5637233827&rsquo; into this table.</li><li><code>ForecastEntryNumber</code>: One record was found &ndash;> This means the system will throw such error &ldquo;A record is existing in the table&rdquo; when it tries inserting a new record because this field does not allow duplicate.</li></ul><p>We found it.</p><h4 id=d360fo-client--number-sequence><em>D360FO client > Number Sequence</em></h4><p>The solution for this particular issue should be simple: Find our way to the Number Sequence that is for ForecastEntryNumber and increase the <code>Next</code> value by 1.</p><p>I showed no solution here because the main purpose of this post is to demonstrate the way that we can co-use such available tools to approach an issue. Yet, each issue requires more or less different approaches. I hope that some quick look into these might plant some hints and you all can develop your own way of using them.</p><p>Happy Troubleshooting!</p></div><div class=post-footer id=post-footer><div class=post-info><div class=post-info-line><div class=post-info-mod><span>Updated on June 30, 2020</span></div></div><div class=post-info-line><div class=post-info-md><span><a class=link-to-markdown href=/2020-06-30-a-good-example-of-trace-parser-visual-studio-and-excel/index.md target=_blank>Read Markdown</a></span></div><div class=post-info-share><span><a href=javascript:void(0); title="Share on Twitter" data-sharer=twitter data-url=https://nuxulu.com/2020-06-30-a-good-example-of-trace-parser-visual-studio-and-excel/ data-title="A good example of Trace Parser, Visual Studio and Excel" data-hashtags="Visual Studio 2017,Trace parser"><i class="fab fa-twitter fa-fw" aria-hidden=true></i></a><a href=javascript:void(0); title="Share on Facebook" data-sharer=facebook data-url=https://nuxulu.com/2020-06-30-a-good-example-of-trace-parser-visual-studio-and-excel/ data-hashtag="Visual Studio 2017"><i class="fab fa-facebook-square fa-fw" aria-hidden=true></i></a><a href=javascript:void(0); title="Share on Linkedin" data-sharer=linkedin data-url=https://nuxulu.com/2020-06-30-a-good-example-of-trace-parser-visual-studio-and-excel/><i class="fab fa-linkedin fa-fw" aria-hidden=true></i></a><a href=javascript:void(0); title="Share on WhatsApp" data-sharer=whatsapp data-url=https://nuxulu.com/2020-06-30-a-good-example-of-trace-parser-visual-studio-and-excel/ data-title="A good example of Trace Parser, Visual Studio and Excel" data-web><i class="fab fa-whatsapp fa-fw" aria-hidden=true></i></a><a href=javascript:void(0); title="Share on Hacker News" data-sharer=hackernews data-url=https://nuxulu.com/2020-06-30-a-good-example-of-trace-parser-visual-studio-and-excel/ data-title="A good example of Trace Parser, Visual Studio and Excel"><i class="fab fa-hacker-news fa-fw" aria-hidden=true></i></a><a href=javascript:void(0); title="Share on Line" data-sharer=line data-url=https://nuxulu.com/2020-06-30-a-good-example-of-trace-parser-visual-studio-and-excel/ data-title="A good example of Trace Parser, Visual Studio and Excel"><i data-svg-src=https://cdn.jsdelivr.net/npm/simple-icons@7.3.0/icons/line.svg aria-hidden=true></i></a><a href=javascript:void(0); title="Share on 微博" data-sharer=weibo data-url=https://nuxulu.com/2020-06-30-a-good-example-of-trace-parser-visual-studio-and-excel/ data-title="A good example of Trace Parser, Visual Studio and Excel"><i class="fab fa-weibo fa-fw" aria-hidden=true></i></a></span></div></div></div><div class=post-info-more><section class=post-tags><i class="fas fa-tags fa-fw" aria-hidden=true></i>&nbsp;<a href=/tags/visual-studio-2017/>Visual Studio 2017</a>,&nbsp;<a href=/tags/trace-parser/>Trace parser</a></section><section><span><a href=javascript:void(0); onclick=window.history.back()>Back</a></span>&nbsp;|&nbsp;<span><a href=/>Home</a></span></section></div><div class=post-nav><a href=/2020-06-30-a-good-tip-of-using-excel-to-analyse-insert-into-statement-captured-in-a-trace-file/ class=prev rel=prev title="A good tip of using Excel to analyse INSERT INTO statement captured in a Trace file"><i class="fas fa-angle-left fa-fw" aria-hidden=true></i>A good tip of using Excel to analyse INSERT INTO statement captured in a Trace file</a>
<a href=/2020-07-07-platform-vs-framework/ class=next rel=next title="Framework vs. Platform">Framework vs. Platform<i class="fas fa-angle-right fa-fw" aria-hidden=true></i></a></div></div><div id=comments><div id=disqus_thread class=comment></div><noscript>Please enable JavaScript to view the comments powered by <a href=https://disqus.com/?ref_noscript>Disqus</a>.</noscript></div></article></div></main><footer class=footer><div class=footer-container><div class=footer-line><a href=https://www.buymeacoffee.com/maxnguyen target=_blank><img src="https://img.buymeacoffee.com/button-api/?text=Buy me a coffee&emoji=&slug=maxnguyen&button_colour=eacd61&font_colour=000000&font_family=Cookie&outline_colour=000000&coffee_colour=FFDD00"></a></div><div class=footer-line>Powered by <a href=https://gohugo.io/ target=_blank rel="noopener noreffer" title="Hugo 0.111.3">Hugo</a> | Theme - <a href=https://github.com/dillonzq/LoveIt target=_blank rel="noopener noreffer" title="LoveIt 0.2.11"><i class="far fa-kiss-wink-heart fa-fw" aria-hidden=true></i> LoveIt</a></div><div class=footer-line itemscope itemtype=http://schema.org/CreativeWork><i class="far fa-copyright fa-fw" aria-hidden=true></i><span itemprop=copyrightYear>2013 - 2023</span><span class=author itemprop=copyrightHolder>&nbsp;<a href=/about/ target=_blank>Max Nguyen</a></span>&nbsp;|&nbsp;<span class=license><a rel="license external nofollow noopener noreffer" href=https://creativecommons.org/licenses/by-nc/4.0/ target=_blank>CC BY-NC 4.0</a></span></div></div></footer></div><div id=fixed-buttons><a href=# id=back-to-top class=fixed-button title="Back to Top"><i class="fas fa-arrow-up fa-fw" aria-hidden=true></i>
</a><a href=# id=view-comments class=fixed-button title="View Comments"><i class="fas fa-comment fa-fw" aria-hidden=true></i></a></div><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/lightgallery@2.5.0/css/lightgallery-bundle.min.css><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/katex@0.16.0/dist/katex.min.css><script type=text/javascript src=https://https-dynamics365-github-io.disqus.com/embed.js defer></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/autocomplete.js@0.38.1/dist/autocomplete.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/lunr@2.3.9/lunr.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/lazysizes@5.3.2/lazysizes.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/twemoji@14.0.2/dist/twemoji.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/lightgallery@2.5.0/lightgallery.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/lightgallery@2.5.0/plugins/thumbnail/lg-thumbnail.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/lightgallery@2.5.0/plugins/zoom/lg-zoom.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/clipboard@2.0.11/dist/clipboard.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/sharer.js@0.5.1/sharer.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/katex@0.16.0/dist/katex.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/katex@0.16.0/dist/contrib/auto-render.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/katex@0.16.0/dist/contrib/copy-tex.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/katex@0.16.0/dist/contrib/mhchem.min.js></script><script type=text/javascript>window.config={code:{copyTitle:"Copy to clipboard",maxShownLines:300},comment:{},lightgallery:!0,math:{delimiters:[{display:!0,left:"$$",right:"$$"},{display:!0,left:"\\[",right:"\\]"},{display:!0,left:"\\begin{equation}",right:"\\end{equation}"},{display:!0,left:"\\begin{equation*}",right:"\\end{equation*}"},{display:!0,left:"\\begin{align}",right:"\\end{align}"},{display:!0,left:"\\begin{align*}",right:"\\end{align*}"},{display:!0,left:"\\begin{alignat}",right:"\\end{alignat}"},{display:!0,left:"\\begin{alignat*}",right:"\\end{alignat*}"},{display:!0,left:"\\begin{gather}",right:"\\end{gather}"},{display:!0,left:"\\begin{CD}",right:"\\end{CD}"},{display:!1,left:"$",right:"$"},{display:!1,left:"\\(",right:"\\)"}],strict:!1},search:{highlightTag:"em",lunrIndexURL:"/index.json",maxResultLength:10,noResultsFound:"No results found",snippetLength:30,type:"lunr"},twemoji:!0}</script><script type=text/javascript src=/js/theme.min.js></script><script type=text/javascript>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","UA-57379422-3",{anonymize_ip:!0})</script><script type=text/javascript src="https://www.googletagmanager.com/gtag/js?id=UA-57379422-3" async></script></body></html>