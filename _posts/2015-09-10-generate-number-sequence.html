---
layout: post
title: Generate number Sequence
date: 2015-09-10 03:05:05.000000000 +07:00
type: post
published: true
status: publish
categories:
- Number sequence
tags: []
meta:
  _publicize_pending: '1'
  _edit_last: '60509763'
  original_post_id: '97'
  _wp_old_slug: '97'
author:
  login: luannx
  email: luan52@outlook.com
  display_name: luannx
  first_name: ''
  last_name: ''
---
<p>Suppose we want create number sequence for <strong>Test</strong> field on form in General  ledger module</p>
<p>Consideration: EDT-Test, Table-TestTable and Form- TestTable</p>
<p><strong>Step1.</strong> Create new EDT with name Test</p>
<p><strong>Step 2.</strong> Modify load module() method on  NumberSeqModuleLedger class</p>
<pre class="lang:c# decode:true ">{

datatype.parmDatatypeId(extendedTypeNum(Test));

datatype.parmReferenceHelp(literalStr("Test"));

datatype.parmWizardIsManual(NoYes::No);

datatype.parmWizardIsChangeDownAllowed(NoYes::No);

datatype.parmWizardIsChangeUpAllowed(NoYes::No);

datatype.parmWizardHighest(999);

datatype.parmSortField(30);

datatype.addParameterType(NumberSeqParameterType::DataArea, true, false);

this.create(datatype);

}</pre>
<p><strong>Step </strong><strong>3</strong>.Create a method on LedgerParameters Table</p>
<pre class="lang:c# decode:true ">client server static NumberSequenceReference numRefTest()
{
	return NumberSeqReference::findReference(extendedTypeNum(Test));
}</pre>
<p><strong>Step </strong><strong>4.</strong>Write and run following job</p>
<pre class="lang:c# decode:true">static void NumberSeqLoadAll(Args _args)
{
      NumberSeqApplicationModule::loadAll();
}</pre>
<p>&nbsp;</p>
<p><strong>Step </strong><strong>5.</strong>Then run the wizard</p>
<p><em>Organization Administration -&gt; CommonForms -&gt; Numbersequences-&gt;Numbersequences-&gt; Generate -&gt; run the wizard.</em></p>
<p><strong>Step </strong><strong>6.</strong>Now we have to check the number sequence  is correctly working  for that write a job:</p>
<p>&nbsp;</p>
<pre class="lang:c# decode:true">static void NumSeq(Args _args)
{
	NumberSeq  numberSeq;
	Test num;
	;
	numberSeq = NumberSeq::newGetNum(ProjParameters:: numRefTest ());
	num = numberSeq.num();
	info(num);
}</pre>
<p><strong>Step </strong><strong>7.</strong>Now we want that Number Sequence in form level(Test Table):</p>
<p>Write below code in class declaration</p>
<p>&nbsp;</p>
<pre class="lang:c# decode:true ">public class FormRun extends ObjectRun
{
    NumberSeqFormHandler numberSeqFormHandler;
}</pre>
<p><strong>Step </strong><strong>8.</strong>Write the <em>NumberSeqFormHandler()</em> in form methods node.</p>
<p>&nbsp;</p>
<pre class="lang:c# decode:true">NumberSeqFormHandler numberSeqFormHandler()
{
    if (!numberSeqFormHandler)
    {
        numberSeqFormHandler = NumberSeqFormHandler::newForm(LedgerParameters:: numRefTest ().NumberSequenceId,
        element,
        TestTable_DS,
        fieldNum(TestTable, Test);
    }
    return numberSeqFormHandler;
}</pre>
<p><strong>Step </strong><strong>9.</strong>Write the  <em>Create(),Delete(),Write() , Validate Write(),Link Active()</em> on the Data source methods node.</p>
<p>&nbsp;</p>
<pre class="lang:c# decode:true ">///Create() Method
void create(boolean append = false, boolean extern = false)
{
    element.numberSeqFormHandler().formMethodDataSourceCreatePre();
    super(append);
    if (!extern)
    {
        element.numberSeqFormHandler().formMethodDataSourceCreate(true);
    }

}
///Delete() Method
public void delete()
{
    element.numberSeqFormHandler().formMethodDataSourceDelete();
    super();
}

///Write()Method
public void write()
{
    super();
    element.numberSeqFormHandler().formMethodDataSourceWrite();
}

//Validate Write() Method
public boolean validateWrite()
{
    boolean         ret;
    ret = super();
    ret = element.numberSeqFormHandler().formMethodDataSourceValidateWrite(ret) &amp;&amp; ret;
    if (ret)
    {
        TestTable.validateWrite();
    }
    return ret;
}

//Link Active() Method
public void linkActive()
{
;
element.numberSeqFormHandler().formMethodDataSourceLinkActive();
super();
}</pre>
<p>&nbsp;</p>
<p><strong>Step </strong><strong>10.</strong>Finally add <em>Close()</em> method on form</p>
<pre class="lang:c# decode:true  ">void close()
{
    if (numberSeqFormHandler)
    {
       numberSeqFormHandler.formMethodClose();
    }
    super();
}</pre>
<p>&nbsp;</p>
<p>&nbsp;</p>
