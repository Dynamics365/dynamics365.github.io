---
layout: post
title: List Page Interaction Class
date: 2015-06-09 10:23:00.000000000 +07:00
type: post
published: true
status: publish
categories: []
tags: []
meta:
  _publicize_pending: '1'
  _edit_last: '60509763'
  original_post_id: '20'
  _wp_old_slug: '20'
author:
  login: luannx
  email: luan52@outlook.com
  display_name: luannx
  first_name: ''
  last_name: ''
---
<p>List page and form <em>menuitem</em> enable code</p>
<ul>
<li><em>Listpage</em> interaction class:</li>
</ul>
<div> Code for Action pane button enable and disabling:</div>
<ol>
<li><em><em>selectionChanged()</em></em>
<pre class="lang:c# decode:true">public void selectionChange()
{
if(NetAgreement.Status == NetAgreementStatus::Approved &amp;&amp; NetAgreement.FinalizeAgree == NoYes::No)
      this.listPage().actionPaneControlEnabled(formControlStr(NetAgreementList,FinalizeAgreement),true);
    else
        this.listPage().actionPaneControlEnabled(formControlStr(NetAgreementList,FinalizeAgreement),false);
}</pre>
</li>
<li><em><em>selectionChanged()</em></em>
<pre class="lang:c# decode:true">public void selectionChanged()
{
    super();
 
    this.setButtonEnabled();
   
     if(netReservationTable.RentalApprovalState == ApprovalState::WorkflowCompleted)// &amp;&amp; NetReservationListPage.&amp; NetAgreement.FinalizeAgree == NoYes::No)
      this.listPage().actionPaneControlEnabled(formControlStr(NetReservationListPage,btnReserve),true);
 
    else
        this.listPage().actionPaneControlEnabled(formControlStr(NetReservationListPage,btnReserve),false);
}</pre>
</li>
</ol>
<ul>
<li>Action pane button enabling and disabling in form:</li>
</ul>
<div><em>Form –datasource-(table of data source)-active method:</em></div>
<ol>
<li><em><em>Active():</em></em>
<pre class="lang:c# decode:true">if(NetAgreement.Status == NetAgreementStatus::Approved &amp;&amp; NetAgreement.FinalizeAgree == NoYes::No)
      FinalizeAgreement.enabled(true);
    else
        FinalizeAgreement.enabled(false);
    //ended by poorna...04/09/2013
    return ret;</pre>
</li>
<li><em><em>Active():</em></em>
<pre class="lang:c# decode:true">if(NetReservationTable.RentalApprovalState == ApprovalState::WorkflowCompleted)//&amp;&amp; NetAgreement.FinalizeAgree == NoYes::No)
      btnReserve.enabled(true);
    else
        btnReserve.enabled(false);</pre>
</li>
</ol>
<p><!--more--></p>
<h3>Listpage interaction class: example</h3>
<pre class="lang:c# decode:true ">Listpage interaction class:( NetReservationListPageInteraction-interaction class,
NetReservationListPage-listpage name , btnReserve-button name(autodeclaration yes),
NetReservation_NoFilter-listpage query, NetReservationTable-listpage table)
 
//Class declaration: 
 
public class NetReservationListPageInteraction extends ListPageInteraction
{
    smmLeadTable                smmLeadTable;
    smmActivityParentLinkTable  smmActivityParentLinkTable;
 
    QueryBuildRange             leadProcessRange;
    HierarchyName               selectedProcess;
 
    NetReservationTable         netReservationTable;
}
 
//selectionChanged:
public void selectionChanged()
{
    super();
 
    this.setButtonEnabled();
 
     if(netReservationTable.RentalApprovalState == ApprovalState::WorkflowCompleted)// &amp;&amp; NetReservationListPage.&amp; NetAgreement.FinalizeAgree == NoYes::No)
      this.listPage().actionPaneControlEnabled(formControlStr(NetReservationListPage,btnReserve),true);
 
    else
        this.listPage().actionPaneControlEnabled(formControlStr(NetReservationListPage,btnReserve),false);
}
 
//setButtonEnabled:
 
void setButtonEnabled ()
{
    boolean                 isCustomer;
    smmOpportunityTable     smmOpportunityTable;
    boolean                 enableContacts = false;
    DirOrgPersonRelations   dirOrgPersonRelations;
 
    netReservationTable = this.listPage().activeRecord(queryDataSourceStr(NetReservation_NoFilter, NetReservationTable));
 
   /* isCustomer = DirPartyTable::isCustomer(netReservationTable.Party);
 
    if (!netReservationTable.RecId || !netReservationTable.Party || isCustomer)
    {
        this.listPage().actionPaneControlEnabled(formControlStr(NetReservationListPage,createCustomer),false);
    }
    else
    {
        this.listPage().actionPaneControlEnabled(formControlStr(NetReservationListPage,createCustomer),true);
    }
 
    this.listPage().actionPaneControlEnabled(formControlStr(NetReservationListPage,customerButton),netReservationTable.RecId != 0 &amp;&amp; isCustomer);
*/
 
}
 
//setDBEnabled:
 
public void setDBEnabled()
{
    boolean                 isDraft;
    ;
        /*
    // DNS-Hussain on 12-09-2013
 
    netReservationTable = this.listPage().activeRecord(queryDataSourceStr(NetReservation_NoFilter, NetReservationTable));
 
    isDraft = netReservationTable.RentalApprovalState == ApprovalState::NotSubmitted;
 
    if(NetReservationTable.RentalApprovalState != ApprovalState::NotSubmitted)
    {
        NetReservationTable_ds.allowEdit(isDraft);
        NetReservationTable_ds.allowDelete(isDraft);
    }
 
    // end.
 
    this.setButtonEnabled();
 
     if(netReservationTable.RentalApprovalState == ApprovalState::WorkflowCompleted)// &amp;&amp; NetReservationListPage.&amp; NetAgreement.FinalizeAgree == NoYes::No)
      this.listPage().actionPaneControlEnabled(formControlStr(NetReservationListPage,btnReserve),true);
 
    else
        this.listPage().actionPaneControlEnabled(formControlStr(NetReservationListPage,btnReserve),false);
 
*/
 
}</pre>
<p>&nbsp;</p>
<h3>Listpage enabling override methods(How to write methods on the list page Form in Ax 2012)</h3>
<p>for enabling default override methods in list page we will set on property to group as display target-- client(defautly it is auto we can change as client)</p>
<p><strong>Scenario</strong>: I have a menu item that calls some class to do manipulation on the list page Form and I need to refresh the list page now. List pages do not allow writing of</p>
<p>code on the Form, as they used interaction class.</p>
<p><strong>Solution</strong>: You can write the code on list page buttons by setting DisplayTarget property to “Client” from auto. However after this change, you won’t be able to sue this</p>
<p>button on the EP, so if you are thinking of using the same list page on the EP and planning to use the same button there, then do not do it. However f your domain is</p>
<p>only the Form then you are good to do this.</p>
<p>Any ways override the clicked method and call research() of the data source to do this</p>
<div id="post-body-6695066407926496381">
<div dir="ltr">
<h3>List page interaction class and methods</h3>
<p>Interaction class of list pages extends <em>SysListPageInteractionBase</em> class. Some handful methods of this class are as follows:</p>
<p>. <em>initializing</em>: Called when the form is initializing – Similar to the form init method</p>
<p>. <em>intializeQuery</em>: Also called when the form is initializing – Similar to the datasource init method.</p>
<p>. <em>selectionChanged</em>: Called when the active record changes – Similar to the datasource active method.</p>
<p>. <em>setButtonEnabled</em>: Should be overridden to dynamically enable/disable buttons based on the current selection. This is called from the selectionChanged method.</p>
<p>. <em>setButtonVisibility</em>: Should be overridden to show/hide buttons when the form first opens. This is used more to do a one-off layout adjustment based on system configuration/parameters, as well as the menu-item used to open the form. eg If you have a menu-item that opens a form based on status, you may want to hide the relevant ‘status’ field to reduce clutter.</p>
</div>
</div>
